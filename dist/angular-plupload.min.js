/*! angular-plupload 0.1.5 */
!function(){"use strict";angular.module("angular-plupload",[]).provider("pluploadOption",function(){var a={flash_swf_url:"/bower_components/plupload/js/Moxie.swf",silverlight_xap_url:"/bower_components/plupload/js/Moxie.xap",runtimes:"html5, flash, silverlight, html4",max_file_size:"2mb",filters:[{title:"Image files",extensions:"jpg,jpeg,gif,png"}]};return{setOptions:function(b){angular.extend(a,b)},$get:function(){return a}}}).directive("plupload",["$timeout","pluploadOption",function(a,b){function c(a){return a.charAt(0).toLowerCase()+a.slice(1)}return{scope:{url:"=plupload",options:"=pluploadOptions",callbacks:"=pluploadCallbacks"},link:function(a,d,e){function f(){var a=angular.element(window),b=angular.element(d),c={top:a.scrollTop(),left:a.scrollLeft()};c.right=c.left+a.width(),c.bottom=c.top+a.height();var e=b.offset();return e.right=e.left+b.outerWidth(),e.bottom=e.top+b.outerHeight(),c.right<e.left||c.left>e.right||c.bottom<e.top||c.top>e.bottom}var g=b;g.url=a.url||g.url,g.browse_button=d[0],angular.extend(g,a.options);var h=new plupload.Uploader(g);if(a.callbacks){var i=["Init","PostInit","OptionChanged","Refresh","StateChanged","UploadFile","BeforeUpload","QueueChanged","UploadProgress","FilesRemoved","FileFiltered","FilesAdded","FileUploaded","ChunkUploaded","UploadComplete","Error","Destroy"];angular.forEach(i,function(b){var d=a.callbacks[c(b)]||angular.noop;h.bind(b,function(){d.apply(null,arguments),a.$$phase||a.$root.$$phase||a.$apply()})})}a.$on("$destroy",function(){h.destroy()}),a.$watch(f,function(){h.refresh()}),h.init()}}}])}();